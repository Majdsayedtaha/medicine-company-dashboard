<h3>Manage And Add New ads EveryDay!</h3>
<button
  type="button"
  class="btn ad mb-5"
  data-toggle="tooltip"
  data-placement="top"
  title="Add New Ad"
  data-bs-toggle="modal"
  data-bs-target="#adModal">
  Add New Ad
</button>

<c-row>
  <c-col
    lg="3"
    md="6"
    xs="12"
    *ngFor="let ad of ads"
    data-bs-toggle="modal"
    data-bs-target="#adDetailsModal"
    (click)="getAdDetails(ad.id)">
    <c-widget-stat-b
      style="cursor: pointer"
      #widgetStatB2inv="cWidgetStatB"
      [title]="shortDate(ad.publishedDate)"
      class="mb-4"
      [color]="'info'"
      inverse
      [text]="ad.content"
      [value]="ad.title">
    </c-widget-stat-b>
  </c-col>
</c-row>

<div class="modal fade" id="adModal" tabindex="-1" aria-labelledby="adModal" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="adModalHeader">Add New Ad</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <form [formGroup]="adForm">
          <div class="row mb-3">
            <label for="eventName"
              >Add Name To Your New Ad
              <input type="text" class="form-control mt-2" formControlName="name" id="eventName" />
            </label>
            <label for="eventcontent"
              >Add Content To This Ad
              <textarea type="text" class="form-control mt-2" formControlName="content" id="eventcontent"> </textarea>
            </label>
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary" data-bs-dismiss="modal" [disabled]="!adForm.valid" (click)="addNewAd()">Add New Ad</button>
      </div>
    </div>
  </div>
</div>

<div class="modal fade" id="adDetailsModal" tabindex="-1" aria-labelledby="adDetailsModal" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="adDetailsModalHeader">Ad Details</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <form [formGroup]="adForm">
          <div class="row mb-3">
            <label for="eventName"
              >Ad Name
              <input
                type="text"
                class="form-control mt-2"
                formControlName="name"
                id="eventName"
                [value]="activeAd?.title" />
            </label>
            <label for="eventcontent"
              >Ad Content
              <textarea
                type="text"
                class="form-control mt-2"
                formControlName="content"
                id="eventcontent"
                [value]="activeAd?.content">
              </textarea>
            </label>
          </div>
          <!-- <fa-icon [icon]="faSquarePlus"></fa-icon> -->
          <br />
          <br />
        </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary" data-bs-dismiss="modal" (click)="updateEvent(activeAd.id)">
          Save Changes
        </button>
        <button type="button" class="btn btn-danger" data-bs-dismiss="modal" (click)="deleteEvent(activeAd.id)">
          <fa-icon [icon]="faTrashAlt"></fa-icon>Delete
        </button>
      </div>
    </div>
  </div>
</div>
